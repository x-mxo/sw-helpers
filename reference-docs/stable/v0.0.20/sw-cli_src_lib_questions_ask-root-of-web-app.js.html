---
layout: jsdoc
title: "Source: sw-cli/src/lib/questions/ask-root-of-web-app.js"
jsdocNav: 
  - Modules:
    - <a href="module-sw-background-sync-queue.html#main">sw-background-sync-queue</a>
    - <a href="module-sw-broadcast-cache-update.html#main">sw-broadcast-cache-update</a>
    - <a href="module-sw-build.html#main">sw-build</a>
    - <a href="module-sw-cache-expiration.html#main">sw-cache-expiration</a>
    - <a href="module-sw-cacheable-response.html#main">sw-cacheable-response</a>
    - <a href="module-sw-lib.html#main">sw-lib</a>
    - <a href="module-sw-offline-google-analytics.html#main">sw-offline-google-analytics</a>
    - <a href="module-sw-precaching.html#main">sw-precaching</a>
    - <a href="module-sw-routing.html#main">sw-routing</a>
    - <a href="module-sw-runtime-caching.html#main">sw-runtime-caching</a>
---





    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const fs = require('fs');
const inquirer = require('inquirer');
const path = require('path');


const constants = require('../constants');
const logHelper = require('../log-helper');
const errors = require('../errors');

/**
 * This method requests the root directory of the web app.
 * The user can opt to type in the directory OR select = require(a list of
 * directories in the current path.
 * @return {Promise&lt;string>} Promise that resolves with the name of the root
 * directory if given.
 */
module.exports = () => {
  const manualEntryChoice = 'Manually Enter Path';
  const currentDirectory = process.cwd();

  return new Promise((resolve, reject) => {
    fs.readdir(currentDirectory, (err, directoryContents) => {
      if (err) {
        return reject(err);
      }

      resolve(directoryContents);
    });
  })
  .then((directoryContents) => {
    return directoryContents.filter((directoryContent) => {
      return fs.statSync(directoryContent).isDirectory();
    });
  })
  .then((subdirectories) => {
    return subdirectories.filter((subdirectory) => {
      return !constants.blacklistDirectoryNames.includes(subdirectory);
    });
  })
  .then((subdirectories) => {
    const choices = subdirectories.concat([
      new inquirer.Separator(),
      manualEntryChoice,
    ]);
    return inquirer.prompt([
      {
        name: 'rootDir',
        message: 'What is the root of your web app?',
        type: 'list',
        choices: choices,
      },
      {
        name: 'rootDir',
        message: 'Please manually enter the root of your web app?',
        when: (answers) => {
          return answers.rootDir === manualEntryChoice;
        },
      },
    ]);
  })
  .then((answers) => {
    return path.join(currentDirectory, answers.rootDir);
  })
  .catch((err) => {
    logHelper.error(
      errors['unable-to-get-rootdir'],
      err
    );
    throw err;
  });
};
</code></pre>
        </article>
    </section>




